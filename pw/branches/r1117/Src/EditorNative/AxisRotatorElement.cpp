#include "stdafx.h"
#include "AxisRotatorElement.h"

using namespace System::Drawing;
using namespace EditorNative;
using namespace EditorNative::Manipulators;
using namespace EditorNative::Manipulators::Rotation;

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
AxisRotatorElement::AxisRotatorElement( Manipulator^ tool, System::Drawing::Color color )
: RotatorElement( tool, color ),
	rotation(Quaternion::Identity)
{
}
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
AxisRotatorElement::AxisRotatorElement( Manipulator^ tool, System::Drawing::Color color, Quaternion^ _rotation )
: RotatorElement( tool, color ),
	rotation(_rotation)
{
}
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
CQuat AxisRotatorElement::CalculateRotation( NScene::ICamera& camera )
{
  return IsGlobal ? rotation->Native : ( Rotation * rotation->Native );
}
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void AxisRotatorElement::UpdateParentRotation( bool _IsGlobal, Quaternion^ rotation )
{
  IsGlobal = _IsGlobal;
}
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
