#include <windows.h>

#include "FilePath.h"
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
static const string::size_type FindLastSlash( const string &path )
{
	const string::size_type slashPos1 = path.rfind( '\\' );
	const string::size_type slashPos2 = path.rfind( '/' );

	if ( slashPos1 != string.npos && ( slashPos1 > slashPos2 || slashPos2 == string.npos ) )
		return slashPos1;
	else if ( slashPos2 != string.npos )
		return slashPos2;

	return string.npos;
}
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
namespace NFilePath
{
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
const string GetFilePath( const char *fileName )
{
	string result( fileName );
	const string::size_type slashPos = FindLastSlash( result );
	if ( slashPos != string.npos )
		result.erase( slashPos );

	return result;
}
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
const string GetFileName( const char *fileName )
{
	string result( fileName );
	const string::size_type slashPos = FindLastSlash( result );
	if ( slashPos != string.npos )
		result.erase( 0, slashPos + 1 );

	return result;
}
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
}
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
